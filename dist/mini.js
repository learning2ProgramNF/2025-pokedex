let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t?e.push(t):console.log("Invalid Pokemon entry")}function n(e){o(e).then((function(){!function(e){let t=document.querySelector(".modal-title"),n=document.querySelector(".modal-body");t.innerHTML="",n.innerHTML="";let o=document.createElement("h1");o.innerText=e.name;let i=document.createElement("img");i.classList.add("modal-img"),i.style.width="100%",i.src=e.imageUrl;let l=document.createElement("img");l.classList.add("modal-img"),l.style.width="100%",l.src=e.backImageUrl;let a=document.createElement("p");a.innerText="Height: "+e.height;let d=document.createElement("p");d.innerText="Types: "+e.types.join(", ");let c=document.createElement("p");c.innerText="Abilities: "+e.abilities.join(", "),t.appendChild(o),n.appendChild(i),n.appendChild(l),n.appendChild(a),n.appendChild(d),n.appendChild(c);let r=document.getElementById("exampleModal");new bootstrap.Modal(r).show()}(e)}))}function o(e){return fetch(e.detailsUrl).then((e=>e.json())).then((t=>{e.imageUrl=t.sprites.front_default,e.backImageUrl=t.sprites.back_default,e.height=t.height,e.types=t.types.map((e=>e.type.name)),e.abilities=t.abilities.map((e=>e.ability.name))})).catch((e=>console.error(e)))}return{add:t,getAll:function(){return e},addListItem:function(e){let t=document.querySelector("#pokemon-list"),o=document.createElement("li");o.classList.add("col-12","col-md-4","pokemon-item");let i=document.createElement("button");i.classList.add("btn","btn-light","pokemon-card-btn"),i.innerText=e.name,o.appendChild(i),t.appendChild(o),i.addEventListener("click",(function(){n(e)}))},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then((e=>e.json())).then((e=>{e.results.forEach((e=>{t({name:e.name,detailsUrl:e.url})}))})).catch((e=>console.error(e)))},loadDetails:o}}();pokemonRepository.loadList().then((function(){pokemonRepository.getAll().forEach((function(e){pokemonRepository.addListItem(e)}))}));